\index{Green's theorem}

\noindent
Green's theorem tells us that
$$\oint P\,dx+Q\,dy=\int\!\!\!\int
\left({\partial Q\over\partial x}-{\partial P\over\partial y}\right)
dx\,dy$$

\noindent
Evaluate $\oint (2x^3-y^3)\,dx+(x^3+y^3)\,dy$ around the circle
$x^2+y^2=1$ using Green's theorem.\footnote{
Wilfred Kaplan, {\it Advanced Calculus, 5th Edition,} 287.}

\medskip
\noindent
It turns out that Eigenmath cannot solve the double integral over
$x$ and $y$ directly.
Polar coordinates are used instead.

\medskip
\verb$P=2x^3-y^3$

\verb$Q=x^3+y^3$

\verb$f=d(Q,x)-d(P,y)$

\verb$x=r*cos(theta)$

\verb$y=r*sin(theta)$

\verb$f=eval(f)$

\verb$defint(f*r,r,0,1,theta,0,2pi)$

$${3\over2}\pi$$

\medskip
\noindent
A few words of explanation are in order.
The line $f=eval(f)$ is necessary to update $f$ with the polar
substitutions for
$x$ and $y$.
The $defint$ integrand is $f{*}r$ because $r\,dr\,d\theta=dx\,dy$.

\medskip
\noindent
Now let us try computing the line integral and see if we get the same result.
We need to use the trick of converting sine and cosine to exponentials.

%Returning to the previous example for a moment, let us compute the
%line integral and see if we get the same result.
%Again, the integral is too complex for Eigenmath to solve directly.
%In this case we use the trick of converting to exponentials.

\medskip
\verb$x=cos(t)$

\verb$y=sin(t)$

\verb$P=2x^3-y^3$

\verb$Q=x^3+y^3$

\verb$f=P*d(x,t)+Q*d(y,t)$

\verb$f=circexp(f)$

\verb$defint(f,t,0,2pi)$

$${3\over2}\pi$$

