\nopagenumbers
\magnification=1200
\parindent=0pt

{\bf Step 1.} Write down expressions for $\phi$ and $\dot\phi$
along with reference designators $A$ and $A^\dagger$.
$$\phi({\bf x},t)=\sum_{\bf k}
{1\over\sqrt{2V\omega({\bf k})}}
\left[
\overbrace{
a({\bf k})\exp(-i\omega({\bf k})t+i{\bf k}\cdot{\bf x})
}^A
+
\overbrace{
a^\dagger({\bf k})\exp(i\omega({\bf k})t-i{\bf k}\cdot{\bf x})
}^B
\right]
$$

$$\dot\phi({\bf x^\prime},t)=\sum_{\bf k}
{i\omega({\bf k})\over\sqrt{2V\omega({\bf k})}}
\left[
-
\overbrace{
a({\bf k})
\exp(-i\omega({\bf k})t+i{\bf k}\cdot{\bf x^\prime})
}^C
+
\overbrace{
a^\dagger({\bf k})
\exp(i\omega({\bf k})t-i{\bf k}\cdot{\bf x^\prime})
}^D
\right]
$$

\medskip

{\bf Step 2.}
Expand the left-hand side of the field commutator expression.

$$\eqalign{
[\phi({\bf x},t),\dot\phi({\bf x^\prime},t)]&=
i
\sum_{\bf k}{A+B\over\sqrt{2V\omega({\bf k})}}
\sum_{\bf k}{-C+D\over\sqrt{2V/\omega({\bf k})}}
-
i
\sum_{\bf k}{-C+D\over\sqrt{2V/\omega({\bf k})}}
\sum_{\bf k}{A+B\over\sqrt{2V\omega({\bf k})}}
%
%
%
%
\cr&=
{i\over2V}
\sum_{{\bf k},{\bf k^\prime}}
{
-AC+AD-BC+BD+CA+CB-DA-DB
\over
\sqrt{\omega({\bf k})/\omega({\bf k^\prime})}
}
\cr&=
{i\over2V}
\sum_{{\bf k},{\bf k^\prime}}
{
2AD-2BC
\over
\sqrt{\omega({\bf k})/\omega({\bf k^\prime})}
}
\cr&=
{i\over V}
\sum_{{\bf k},{\bf k^\prime}}
{
[a({\bf k}),a^\dagger({\bf k^\prime})]
\exp(-i\omega({\bf k})t+i\omega({\bf k^\prime})t
+i{\bf k}\cdot{\bf x}-i{\bf k^\prime}\cdot{\bf x^\prime})
\over
\sqrt{\omega({\bf k})/\omega({\bf k^\prime})}
}
}$$

Note: $AC=CA$, $BD=DB$, $AD=CB$, $BC=DA$.

\medskip

{\bf Step 3.}
Do a Fourier transform to remove $\bf x$.
Multiplying by the exponential $\exp(-i{\bf k}\cdot{\bf x})$
converts the integral into a constant expression times
$\int d{\bf x}=V$.
%
It should be noted that the symbol $\bf k$ is used in two contexts
here.
We have the sum over $\bf k$ which means {\it add together for all $\bf k$}.
Then we have the $\bf k$ in the exponential multiplier which means
{\it choose this specific $\bf k$}.
So out of all the $\bf k$ in the sum the Fourier transform selects
a specific $\bf k$ and throws away the others.
That's why the sum changes from
$\bf kk^\prime$
to just $\bf k^\prime$.
$$\eqalign{
&\int\left(
{i\over V}
\sum_{{\bf k},{\bf k^\prime}}
{
[a({\bf k}),a^\dagger({\bf k^\prime})]
\exp(-i\omega({\bf k})t+i\omega({\bf k^\prime})t
+i{\bf k}\cdot{\bf x}-i{\bf k^\prime}\cdot{\bf x^\prime})
\over
\sqrt{\omega({\bf k})/\omega({\bf k^\prime})}
}
\right)
\exp(-i{\bf k}\cdot{\bf x})
\,d{\bf x}
\cr
&\qquad=
i\sum_{\bf k^\prime}
{
[a({\bf k}),a^\dagger({\bf k^\prime})]
\exp(-i\omega({\bf k})t+i\omega({\bf k^\prime})t
-i{\bf k^\prime}\cdot{\bf x^\prime})
\over
\sqrt{\omega({\bf k})/\omega({\bf k^\prime})}
}
\cr
}$$

\bigskip

{\bf Step 4.}
Do another Fourier transform to remove $\bf x^\prime$.
$$\eqalign{
&\int\left(
i\sum_{\bf k^\prime}
{
[a({\bf k}),a^\dagger({\bf k^\prime})]
\exp(-i\omega({\bf k})t+i\omega({\bf k^\prime})t
-i{\bf k^\prime}\cdot{\bf x^\prime})
\over
\sqrt{\omega({\bf k})/\omega({\bf k^\prime})}
}
\right)
\exp(i{\bf k^\prime}\cdot{\bf x^\prime})
\,d{\bf x^\prime}
\cr
&\qquad=
{iV
[a({\bf k}),a^\dagger({\bf k^\prime})]
\exp(-i\omega({\bf k})t+i\omega({\bf k^\prime})t)
\over
\sqrt{\omega({\bf k})/\omega({\bf k^\prime})}
}
}$$

\vfill
\break

{\bf Step 5.}
We did two Fourier transforms on the left-hand side of the field commutator expression,
now we have to do the same on the right-hand side.
Here is the first Fourier transform.
$$\eqalign{
\int i\delta({\bf x}-{\bf x^\prime})\exp(-i{\bf k}\cdot{\bf x})\,d{\bf x}
&=i\int\delta({\bf y})\exp(-i{\bf k}\cdot({\bf y}+{\bf x^\prime}))\,d{\bf y},
\quad{\bf x}={\bf y}+{\bf x^\prime}\cr
&=i\exp(-i{\bf k}\cdot({\bf y}+{\bf x^\prime}))\big|_{{\bf y}=0}\cr
&=i\exp(-i{\bf k}\cdot{\bf x^\prime})\cr
}$$

\medskip

{\bf Step 6.}
Now do the second Fourier transform.
$$\eqalign{
\int
i\exp(-i{\bf k}\cdot{\bf x^\prime})
\exp(i{\bf k^\prime}\cdot{\bf x^\prime})\,d{\bf x^\prime}
&=i\int\exp(-i({\bf k}-{\bf k^\prime})\cdot{\bf x^\prime})\,d{\bf x^\prime}\cr
&=iV\delta_{\bf kk^\prime}
}$$
Note that $\delta_{\bf kk^\prime}=1$ when ${\bf k}={\bf k^\prime}$
and is zero otherwise.

\medskip

{\bf Step 7.}
Altogether we have
$$
{iV
[a({\bf k}),a^\dagger({\bf k^\prime})]
\exp(-i\omega({\bf k})t+i\omega({\bf k^\prime})t)
\over
\sqrt{\omega({\bf k})/\omega({\bf k^\prime})}
}
=
iV\delta_{\bf kk^\prime}
$$
The $i$ and $V$ drop out, and for ${\bf k}={\bf k^\prime}$ the exponential
and the denominator drop out.
Finally we have
$$[a({\bf k}),a^\dagger({\bf k^\prime})]=\delta_{\bf kk^\prime}$$

\end
